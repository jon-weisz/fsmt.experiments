[environment]
# You may need to change your "RELEASE_PREFIX" and "SCRIPT_PATH"
RELEASE_PREFIX = $PREFIX/morse-1.2-STABLE/
SCRIPT_PATH = $PREFIX/etc/fsmt-experiments/MORSE-find-human-1.2/
MORSE_ROOT = $PREFIX
MORSE_BLENDER = /usr/bin/blender
PYTHONPATH=/opt/ros/groovy/lib/python2.7/dist-packages/:$PREFIX/lib/python3.2/site-packages/

[component-1]
name = roscore 
command = roscore
path = /opt/ros/groovy/bin/                              
execution_host = localhost
check_execution = True
check_type = stdout,pid
timeout = 10,2
blocking = True,True
ongoing = False,True
criteria = started core service [/rosout],

[component-2]
name = morse
command = morse run $RELEASE_PREFIX/bin/hri-morse-find-scenario.py
path = $RELEASE_PREFIX/bin/
execution_host = localhost
check_execution = True
check_type = stdout,pid
timeout = 40,2
blocking = True,True
ongoing = False,True
criteria = [SCENE INITIALIZED],

[component-3]
name = start_robot
command = python2.7 $RELEASE_PREFIX/bin/hri-start-waypoint.py
path = /usr/bin/
execution_host = localhost
check_execution = True
check_type = pid
timeout = 1
blocking = True
ongoing = False
criteria =

[component-4]
name = log_human_pose
command = python2.7 $RELEASE_PREFIX/bin/hri-morse-log-human.py
path = /usr/bin/                               
execution_host = localhost
check_execution = True
check_type = pid 
timeout = 1  
blocking = True     
ongoing = False    
criteria =

[component-5]
name = start_human
command = python3.2 $RELEASE_PREFIX/bin/hri-start-human-waypoint.py
path = /usr/bin/
execution_host = localhost
check_execution = True
check_type = pid
timeout = 1
blocking = True
ongoing = False
criteria =

[component-6]
name = image_view
command = python2.7 $RELEASE_PREFIX/bin/hri-ros-image-view.py
path = /usr/bin/
execution_host = localhost
check_execution = True
check_type = pid
timeout = 1
blocking = True
ongoing = False
criteria =

[component-7]
name = clean_logs
command = sh $RELEASE_PREFIX/bin/hri-clean-logs.sh /tmp/$USER/fsmtesting/$FSMTRA/logs/log_human_pose.log
path = /bin/
execution_host = localhost
check_execution = True
check_type = pid
timeout = 1
blocking = True
ongoing = False
criteria =

[component-8]
name = assess_human_log
command = gedit /tmp/$USER/fsmtesting/$FSMTRA/logs/log_human_pose.log
path = /usr/bin/
execution_host = localhost
check_execution = True
check_type = pid
timeout = 1
blocking = True
ongoing = False
criteria =

[component-9]
name = plot_path
command = sh $RELEASE_PREFIX/bin/hri-gplot.sh /tmp/$USER/fsmtesting/$FSMTRA/logs/log_human_pose.log Human_Position x
path = /bin/
execution_host = localhost
check_execution = True
check_type = pid
timeout = 1
blocking = True
ongoing = False
criteria =

[component-10]
name = plot_display
command = eog /tmp/$USER/fsmtesting/$FSMTRA/logs/log_human_pose.log.png
path = /usr/bin/
execution_host = localhost
check_execution = True
check_type = pid
timeout = 1
blocking = True
ongoing = False
criteria =

[run]
name = MORSE-find-human-1.2
run_order = ('roscore', 'morse', 'image_view', 'log_human_pose','start_human', 'start_robot'),
run_execution_duration = 20
result_assessment_order = ('clean_logs', 'assess_human_log', 'plot_path', 'plot_display'),
result_assessment_execution_duration = 5
